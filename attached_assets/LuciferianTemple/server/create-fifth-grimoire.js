import { createClient } from '@supabase/supabase-js';

const supabase = createClient(process.env.SUPABASE_URL, process.env.SUPABASE_ANON_KEY);

const grimoire = {
  title: "A Luz que NÃ£o Vem do CÃ©u â€” Despertando o Fogo Interior",
  description: "Uma exploraÃ§Ã£o profunda sobre a natureza da verdadeira iluminaÃ§Ã£o espiritual, que nÃ£o vem de fontes externas, mas do despertar da divindade que reside dentro de cada ser consciente.",
  unlock_order: 6,
  chapters: [
    {
      title: "PrÃ³logo â€“ O Engano da Luz Externa",
      content: `<div style="text-align: center; margin: 2rem 0;">
<h1><strong>PRÃ“LOGO</strong></h1>
<h2>O Engano da Luz Externa</h2>
</div>

<p>Desde o nascimento, somos ensinados a buscar a <strong>luz "lÃ¡ em cima"</strong>. Nos dizem para olhar para o cÃ©u, para deuses distantes, para salvadores externos que virÃ£o nos resgatar de nossa prÃ³pria escuridÃ£o.</p>

<p>Passamos vidas inteiras <em>mendigando iluminaÃ§Ã£o</em> de fontes que prometem nos completar, mas que na verdade nos mantÃªm eternamente dependentes e incompletos.</p>

<p>Mas e se eu lhe dissesse que essa busca externa Ã© a prÃ³pria coisa que impede sua iluminaÃ§Ã£o? Que a luz que vocÃª procura desesperadamente "lÃ¡ fora" na verdade <strong>queima intensamente dentro de vocÃª</strong>?</p>

<p>Este grimÃ³rio nÃ£o Ã© sobre encontrar a luz. Ã‰ sobre <em>reconhecer</em> a luz que sempre esteve presente. NÃ£o Ã© sobre se tornar iluminado. Ã‰ sobre <strong>parar de fingir que vocÃª nÃ£o Ã©</strong>.</p>

<p>A jornada que vocÃª estÃ¡ prestes a empreender o levarÃ¡ para dentro, nÃ£o para fora. Para baixo, nÃ£o para cima. Para a escuridÃ£o fÃ©rtil onde sua prÃ³pria <em>chama divina</em> aguarda reconhecimento.</p>

<p>VocÃª estÃ¡ pronto para encontrar a luz que nÃ£o vem do cÃ©u, mas que <strong>arde eternamente em seu prÃ³prio coraÃ§Ã£o</strong>?</p>`
    },
    {
      title: "CapÃ­tulo I â€“ A Armadilha da DependÃªncia Espiritual",
      content: `<div style="text-align: center; margin: 2rem 0;">
<h1><strong>CAPÃTULO I</strong></h1>
<h2>A Armadilha da DependÃªncia Espiritual</h2>
</div>

<p>A indÃºstria espiritual moderna criou uma das <strong>dependÃªncias mais sutis e devastadoras</strong> da histÃ³ria humana: a dependÃªncia de luz externa.</p>

<p>Observe como funciona o ciclo vicioso:</p>

<ul>
<li>VocÃª Ã© convencido de que estÃ¡ <strong>"perdido"</strong> ou <strong>"pecaminoso"</strong></li>
<li>Ã‰ oferecida uma fonte externa de <strong>"salvaÃ§Ã£o"</strong></li>
<li>Quanto mais vocÃª busca essa fonte, mais <em>dependente</em> se torna</li>
<li>Sua prÃ³pria luz interior Ã© sistematicamente <strong>negada</strong> e <strong>diminuÃ­da</strong></li>
</ul>

<p>Este sistema Ã© perfeitamente projetado para manter vocÃª em estado perpÃ©tuo de <em>carÃªncia espiritual</em>. Porque um ser verdadeiramente iluminado nÃ£o precisa de intermediÃ¡rios, nÃ£o paga dÃ­zimos, nÃ£o se submete a autoridades questionÃ¡veis.</p>

<blockquote>
<p><em>"O guru que vocÃª procura mora na casa que vocÃª carrega nas costas."</em></p>
</blockquote>

<p>Todas as grandes tradiÃ§Ãµes mÃ­sticas, antes de serem corrompidas por instituiÃ§Ãµes, apontavam para uma verdade fundamental: <strong>vocÃª jÃ¡ Ã© aquilo que busca</strong>.</p>

<p>A luz do Cristo, a natureza de Buda, a centelha divina - todos esses conceitos se referem Ã  <em>mesma realidade</em>: a divindade inerente que reside em cada ser consciente.</p>

<p>O primeiro passo para a verdadeira iluminaÃ§Ã£o Ã© <strong>parar de buscÃ¡-la fora de si mesmo</strong>.</p>`
    },
    {
      title: "CapÃ­tulo II â€“ O Fogo Prometeico Interior",
      content: `<div style="text-align: center; margin: 2rem 0;">
<h1><strong>CAPÃTULO II</strong></h1>
<h2>O Fogo Prometeico Interior</h2>
</div>

<p>Prometeu nÃ£o roubou apenas fogo fÃ­sico dos deuses. Ele simboliza o <strong>despertar da consciÃªncia divina</strong> dentro da humanidade - a realizaÃ§Ã£o de que nÃ£o precisamos mendigar pelos poderes que jÃ¡ possuÃ­mos.</p>

<p>Este fogo interior tem caracterÃ­sticas especÃ­ficas que o distinguem da "luz celestial" das religiÃµes organizadas:</p>

<ul>
<li><strong>Questiona</strong> ao invÃ©s de aceitar cegamente</li>
<li><strong>Afirma</strong> ao invÃ©s de negar</li>
<li><strong>Cria</strong> ao invÃ©s de apenas adorar</li>
<li><strong>Transforma</strong> ao invÃ©s de apenas obedecer</li>
</ul>

<p>Quando vocÃª acende este fogo interior, algo fundamental muda em sua relaÃ§Ã£o com a espiritualidade. VocÃª para de ser um <em>consumidor</em> de experiÃªncias espirituais e se torna um <strong>criador</strong> delas.</p>

<blockquote>
<p><em>"O fogo que Prometeu roubou nunca foi dos deuses - era nosso desde sempre."</em></p>
</blockquote>

<p>Este fogo se manifesta como:</p>

<ul>
<li><strong>IntuiÃ§Ã£o</strong> que transcende lÃ³gica</li>
<li><strong>Criatividade</strong> que canaliza o novo</li>
<li><strong>Coragem</strong> para enfrentar o desconhecido</li>
<li><strong>CompaixÃ£o</strong> que nasce da compreensÃ£o</li>
</ul>

<p>Mas cuidado: uma vez que este fogo seja aceso, <em>nÃ£o hÃ¡ como voltar atrÃ¡s</em>. VocÃª nÃ£o conseguirÃ¡ mais fingir ser pequeno, limitado ou dependente de outros para sua prÃ³pria iluminaÃ§Ã£o.</p>`
    },
    {
      title: "CapÃ­tulo III â€“ Descendo ao Seu PrÃ³prio Inferno",
      content: `<div style="text-align: center; margin: 2rem 0;">
<h1><strong>CAPÃTULO III</strong></h1>
<h2>Descendo ao Seu PrÃ³prio Inferno</h2>
</div>

<p>Todas as tradiÃ§Ãµes mÃ­sticas autÃªnticas reconhecem uma verdade paradoxal: para encontrar a luz verdadeira, vocÃª deve primeiro <strong>descer Ã s suas prÃ³prias trevas</strong>.</p>

<p>NÃ£o Ã s trevas como puniÃ§Ã£o ou pecado, mas Ã s trevas como o <em>Ãºtero da criaÃ§Ã£o</em> - o lugar onde toda vida e toda luz nasceram.</p>

<p>Este processo, conhecido em alquimia como <em>nigredo</em>, envolve:</p>

<ul>
<li><strong>Enfrentar</strong> suas sombras rejeitadas</li>
<li><strong>Integrar</strong> aspectos negados de si mesmo</li>
<li><strong>Questionar</strong> todas as crenÃ§as herdadas</li>
<li><strong>Dissolver</strong> identidades falsas</li>
</ul>

<p>A cultura dominante teme profundamente esse processo porque ele <em>destrÃ³i a programaÃ§Ã£o</em> que mantÃ©m as pessoas controlÃ¡veis. Por isso, criaram uma espiritualidade de "apenas luz" que evita o trabalho real de integraÃ§Ã£o.</p>

<blockquote>
<p><em>"Aquele que nÃ£o conhece sua prÃ³pria escuridÃ£o nÃ£o pode apreciar sua verdadeira luz."</em></p>
</blockquote>

<p>Quando vocÃª desce conscientemente ao seu prÃ³prio "inferno" - suas feridas, medos, raiva, desejos "proibidos" - algo extraordinÃ¡rio acontece:</p>

<p>VocÃª descobre que <strong>nÃ£o hÃ¡ nada lÃ¡ que possa destruÃ­-lo</strong>. Na verdade, encontra uma fonte inesgotÃ¡vel de poder e autenticidade que estava oculta sob camadas de repressÃ£o e negaÃ§Ã£o.</p>

<p>Esta descida nÃ£o Ã© sobre se tornar "sombrio" ou "malÃ©volo". Ã‰ sobre se tornar <em>completo</em>.</p>`
    },
    {
      title: "CapÃ­tulo IV â€“ A Alquimia da AutodivinizaÃ§Ã£o",
      content: `<div style="text-align: center; margin: 2rem 0;">
<h1><strong>CAPÃTULO IV</strong></h1>
<h2>A Alquimia da AutodivinizaÃ§Ã£o</h2>
</div>

<p>A verdadeira alquimia nunca foi sobre transformar metal em ouro. Era sobre transformar a <strong>consciÃªncia comum em consciÃªncia divina</strong>. Era sobre reconhecer que vocÃª nÃ£o Ã© separado do divino - vocÃª <em>Ã©</em> o divino experienciando-se atravÃ©s de uma forma humana.</p>

<p>Este processo de autodivinizaÃ§Ã£o acontece em estÃ¡gios:</p>

<ul>
<li><strong>DissoluÃ§Ã£o</strong> - liberando identidades limitantes</li>
<li><strong>SeparaÃ§Ã£o</strong> - distinguindo entre ego e essÃªncia</li>
<li><strong>ConjunÃ§Ã£o</strong> - integrando opostos internos</li>
<li><strong>FermentaÃ§Ã£o</strong> - permitindo nova vida emergir</li>
<li><strong>DestilaÃ§Ã£o</strong> - purificando a consciÃªncia</li>
<li><strong>CoagulaÃ§Ã£o</strong> - manifestando a nova realidade</li>
</ul>

<p>Ao contrÃ¡rio da "salvaÃ§Ã£o" prometida pelas religiÃµes, que sempre vem de fora e no futuro, a autodivinizaÃ§Ã£o acontece <em>aqui e agora</em>, atravÃ©s de seu prÃ³prio trabalho consciente.</p>

<blockquote>
<p><em>"VocÃª nÃ£o precisa se tornar um deus. VocÃª precisa parar de fingir que nÃ£o Ã© um."</em></p>
</blockquote>

<p>Esta nÃ£o Ã© megalomania ou arrogÃ¢ncia espiritual. Ã‰ o <strong>reconhecimento simples</strong> de sua verdadeira natureza. Quando uma onda reconhece que Ã© oceano, ela nÃ£o se torna arrogante - ela simplesmente <em>para de ter medo de se dissolver</em>.</p>

<p>A autodivinizaÃ§Ã£o Ã© o ato mais humilde possÃ­vel: Ã© admitir que vocÃª sempre foi aquilo que buscava, e que toda a busca era uma fuga de sua prÃ³pria magnificÃªncia.</p>`
    },
    {
      title: "CapÃ­tulo V â€“ Vivendo Como Deus Encarnado",
      content: `<div style="text-align: center; margin: 2rem 0;">
<h1><strong>CAPÃTULO V</strong></h1>
<h2>Vivendo Como Deus Encarnado</h2>
</div>

<p>Quando vocÃª finalmente aceita sua prÃ³pria divindade, uma pergunta prÃ¡tica emerge: <strong>como viver essa realizaÃ§Ã£o no mundo cotidiano?</strong></p>

<p>Viver como deus encarnado nÃ£o significa agir com arrogÃ¢ncia ou superioridade. Significa:</p>

<ul>
<li><strong>Responsabilidade total</strong> por sua experiÃªncia</li>
<li><strong>Criatividade consciente</strong> em todas as Ã¡reas da vida</li>
<li><strong>CompaixÃ£o</strong> baseada na compreensÃ£o da unidade</li>
<li><strong>Coragem</strong> para expressar sua verdade Ãºnica</li>
</ul>

<p>VocÃª para de ser vÃ­tima das circunstÃ¢ncias e se torna <em>co-criador consciente</em> da realidade. VocÃª compreende que cada pensamento, emoÃ§Ã£o e aÃ§Ã£o Ã© um ato de criaÃ§Ã£o divina.</p>

<blockquote>
<p><em>"Um deus nÃ£o reclama da realidade - a transforma."</em></p>
</blockquote>

<p>Isso tambÃ©m significa aceitar que outros seres sÃ£o igualmente divinos, mesmo que nÃ£o tenham despertado para essa verdade. VocÃª os vÃª atravÃ©s dos olhos da <strong>compaixÃ£o divina</strong>, nÃ£o do julgamento humano.</p>

<p>Viver como deus encarnado Ã© tambÃ©m aceitar o <em>paradoxo</em>: vocÃª Ã© simultaneamente humano e divino, individual e universal, criatura e criador.</p>

<p>Este nÃ£o Ã© um estado de chegada, mas um <strong>modo de ser</strong> que se aprofunda e refina com cada respiraÃ§Ã£o consciente.</p>`
    },
    {
      title: "EpÃ­logo â€“ Acendendo Outras Chamas",
      content: `<div style="text-align: center; margin: 2rem 0;">
<h1><strong>EPÃLOGO</strong></h1>
<h2>Acendendo Outras Chamas</h2>
</div>

<p>Se vocÃª chegou atÃ© aqui e sentiu o <strong>reconhecimento</strong> mais do que apenas compreensÃ£o intelectual, entÃ£o sua prÃ³pria chama interior jÃ¡ comeÃ§ou a queimar mais intensamente.</p>

<p>Esta luz que vocÃª encontrou nÃ£o vem do cÃ©u, nÃ£o vem de livros, nÃ£o vem de professores. Ela sempre esteve <em>aqui</em>, aguardando seu reconhecimento.</p>

<p>Agora vocÃª tem uma escolha: manter essa luz escondida ou permitir que ela <strong>irradie</strong> atravÃ©s de sua vida, acendendo outras chamas pelo simples fato de existir autenticamente.</p>

<p>NÃ£o se trata de pregar ou converter. Quando vocÃª vive a partir de sua prÃ³pria divindade, <em>automaticamente</em> dÃ¡ permissÃ£o para outros fazerem o mesmo.</p>

<ul>
<li>Sua <strong>coragem</strong> inspira coragem</li>
<li>Sua <strong>autenticidade</strong> revela a falsidade</li>
<li>Sua <strong>liberdade</strong> expÃµe as prisÃµes</li>
<li>Sua <strong>luz</strong> ilumina o caminho</li>
</ul>

<blockquote>
<p><em>"Uma vela nÃ£o perde luz ao acender outra vela."</em></p>
</blockquote>

<p>O mundo precisa desesperadamente de pessoas que ousem <strong>viver como deuses encarnados</strong>. NÃ£o no sentido de dominaÃ§Ã£o ou superioridade, mas no sentido de responsabilidade criativa total.</p>

<p>A luz que vocÃª encontrou nunca foi sua "propriedade" - ela Ã© <em>expressÃ£o da fonte infinita</em> atravÃ©s de sua forma Ãºnica.</p>

<p>Agora vÃ¡. Viva essa luz. Seja essa luz. <strong>Acenda o mundo</strong>.</p>

<p>A escuridÃ£o sÃ³ existe onde a luz escolhe nÃ£o brilhar.</p>

<p><strong>Escolha brilhar.</strong></p>`
    }
  ]
};

async function createFifthGrimoire() {
  console.log(`ğŸ”¥ Criando "${grimoire.title}"...`);
  
  try {
    // Criar o grimÃ³rio
    const { data: newGrimoire, error: grimoireError } = await supabase
      .from('grimoires')
      .insert({
        title: grimoire.title,
        description: grimoire.description,
        section_id: 1, // Atrium Ignis
        unlock_order: grimoire.unlock_order,
        is_published: true,
        price: 0,
        is_paid: false
      })
      .select()
      .single();
      
    if (grimoireError) {
      console.error(`âŒ Erro ao criar grimÃ³rio "${grimoire.title}":`, grimoireError);
      return;
    }
    
    console.log(`  âœ“ GrimÃ³rio criado com ID ${newGrimoire.id}`);
    
    // Criar os capÃ­tulos
    for (let i = 0; i < grimoire.chapters.length; i++) {
      const chapter = grimoire.chapters[i];
      
      const { error: chapterError } = await supabase
        .from('chapters')
        .insert({
          grimoire_id: newGrimoire.id,
          title: chapter.title,
          content: chapter.content,
          chapter_number: i + 1
        });
        
      if (chapterError) {
        console.error(`âŒ Erro ao criar capÃ­tulo "${chapter.title}":`, chapterError);
      } else {
        console.log(`    âœ“ CapÃ­tulo ${i + 1}: ${chapter.title}`);
      }
    }
    
    console.log(`  âœ… GrimÃ³rio "${grimoire.title}" criado com ${grimoire.chapters.length} capÃ­tulos\n`);
    
  } catch (error) {
    console.error(`ğŸ’¥ Erro geral ao criar "${grimoire.title}":`, error);
  }
  
  console.log('ğŸ‰ Quinto grimÃ³rio criado seguindo o padrÃ£o de prÃ³logo e epÃ­logo!');
  console.log('ğŸ“š ColeÃ§Ã£o "Atrium Ignis" agora possui 5 grimÃ³rios completos.');
}

createFifthGrimoire().catch(console.error);