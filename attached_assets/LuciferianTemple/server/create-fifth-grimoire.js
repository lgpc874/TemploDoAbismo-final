import { createClient } from '@supabase/supabase-js';

const supabase = createClient(process.env.SUPABASE_URL, process.env.SUPABASE_ANON_KEY);

const grimoire = {
  title: "A Luz que Não Vem do Céu — Despertando o Fogo Interior",
  description: "Uma exploração profunda sobre a natureza da verdadeira iluminação espiritual, que não vem de fontes externas, mas do despertar da divindade que reside dentro de cada ser consciente.",
  unlock_order: 6,
  chapters: [
    {
      title: "Prólogo – O Engano da Luz Externa",
      content: `<div style="text-align: center; margin: 2rem 0;">
<h1><strong>PRÓLOGO</strong></h1>
<h2>O Engano da Luz Externa</h2>
</div>

<p>Desde o nascimento, somos ensinados a buscar a <strong>luz "lá em cima"</strong>. Nos dizem para olhar para o céu, para deuses distantes, para salvadores externos que virão nos resgatar de nossa própria escuridão.</p>

<p>Passamos vidas inteiras <em>mendigando iluminação</em> de fontes que prometem nos completar, mas que na verdade nos mantêm eternamente dependentes e incompletos.</p>

<p>Mas e se eu lhe dissesse que essa busca externa é a própria coisa que impede sua iluminação? Que a luz que você procura desesperadamente "lá fora" na verdade <strong>queima intensamente dentro de você</strong>?</p>

<p>Este grimório não é sobre encontrar a luz. É sobre <em>reconhecer</em> a luz que sempre esteve presente. Não é sobre se tornar iluminado. É sobre <strong>parar de fingir que você não é</strong>.</p>

<p>A jornada que você está prestes a empreender o levará para dentro, não para fora. Para baixo, não para cima. Para a escuridão fértil onde sua própria <em>chama divina</em> aguarda reconhecimento.</p>

<p>Você está pronto para encontrar a luz que não vem do céu, mas que <strong>arde eternamente em seu próprio coração</strong>?</p>`
    },
    {
      title: "Capítulo I – A Armadilha da Dependência Espiritual",
      content: `<div style="text-align: center; margin: 2rem 0;">
<h1><strong>CAPÍTULO I</strong></h1>
<h2>A Armadilha da Dependência Espiritual</h2>
</div>

<p>A indústria espiritual moderna criou uma das <strong>dependências mais sutis e devastadoras</strong> da história humana: a dependência de luz externa.</p>

<p>Observe como funciona o ciclo vicioso:</p>

<ul>
<li>Você é convencido de que está <strong>"perdido"</strong> ou <strong>"pecaminoso"</strong></li>
<li>É oferecida uma fonte externa de <strong>"salvação"</strong></li>
<li>Quanto mais você busca essa fonte, mais <em>dependente</em> se torna</li>
<li>Sua própria luz interior é sistematicamente <strong>negada</strong> e <strong>diminuída</strong></li>
</ul>

<p>Este sistema é perfeitamente projetado para manter você em estado perpétuo de <em>carência espiritual</em>. Porque um ser verdadeiramente iluminado não precisa de intermediários, não paga dízimos, não se submete a autoridades questionáveis.</p>

<blockquote>
<p><em>"O guru que você procura mora na casa que você carrega nas costas."</em></p>
</blockquote>

<p>Todas as grandes tradições místicas, antes de serem corrompidas por instituições, apontavam para uma verdade fundamental: <strong>você já é aquilo que busca</strong>.</p>

<p>A luz do Cristo, a natureza de Buda, a centelha divina - todos esses conceitos se referem à <em>mesma realidade</em>: a divindade inerente que reside em cada ser consciente.</p>

<p>O primeiro passo para a verdadeira iluminação é <strong>parar de buscá-la fora de si mesmo</strong>.</p>`
    },
    {
      title: "Capítulo II – O Fogo Prometeico Interior",
      content: `<div style="text-align: center; margin: 2rem 0;">
<h1><strong>CAPÍTULO II</strong></h1>
<h2>O Fogo Prometeico Interior</h2>
</div>

<p>Prometeu não roubou apenas fogo físico dos deuses. Ele simboliza o <strong>despertar da consciência divina</strong> dentro da humanidade - a realização de que não precisamos mendigar pelos poderes que já possuímos.</p>

<p>Este fogo interior tem características específicas que o distinguem da "luz celestial" das religiões organizadas:</p>

<ul>
<li><strong>Questiona</strong> ao invés de aceitar cegamente</li>
<li><strong>Afirma</strong> ao invés de negar</li>
<li><strong>Cria</strong> ao invés de apenas adorar</li>
<li><strong>Transforma</strong> ao invés de apenas obedecer</li>
</ul>

<p>Quando você acende este fogo interior, algo fundamental muda em sua relação com a espiritualidade. Você para de ser um <em>consumidor</em> de experiências espirituais e se torna um <strong>criador</strong> delas.</p>

<blockquote>
<p><em>"O fogo que Prometeu roubou nunca foi dos deuses - era nosso desde sempre."</em></p>
</blockquote>

<p>Este fogo se manifesta como:</p>

<ul>
<li><strong>Intuição</strong> que transcende lógica</li>
<li><strong>Criatividade</strong> que canaliza o novo</li>
<li><strong>Coragem</strong> para enfrentar o desconhecido</li>
<li><strong>Compaixão</strong> que nasce da compreensão</li>
</ul>

<p>Mas cuidado: uma vez que este fogo seja aceso, <em>não há como voltar atrás</em>. Você não conseguirá mais fingir ser pequeno, limitado ou dependente de outros para sua própria iluminação.</p>`
    },
    {
      title: "Capítulo III – Descendo ao Seu Próprio Inferno",
      content: `<div style="text-align: center; margin: 2rem 0;">
<h1><strong>CAPÍTULO III</strong></h1>
<h2>Descendo ao Seu Próprio Inferno</h2>
</div>

<p>Todas as tradições místicas autênticas reconhecem uma verdade paradoxal: para encontrar a luz verdadeira, você deve primeiro <strong>descer às suas próprias trevas</strong>.</p>

<p>Não às trevas como punição ou pecado, mas às trevas como o <em>útero da criação</em> - o lugar onde toda vida e toda luz nasceram.</p>

<p>Este processo, conhecido em alquimia como <em>nigredo</em>, envolve:</p>

<ul>
<li><strong>Enfrentar</strong> suas sombras rejeitadas</li>
<li><strong>Integrar</strong> aspectos negados de si mesmo</li>
<li><strong>Questionar</strong> todas as crenças herdadas</li>
<li><strong>Dissolver</strong> identidades falsas</li>
</ul>

<p>A cultura dominante teme profundamente esse processo porque ele <em>destrói a programação</em> que mantém as pessoas controláveis. Por isso, criaram uma espiritualidade de "apenas luz" que evita o trabalho real de integração.</p>

<blockquote>
<p><em>"Aquele que não conhece sua própria escuridão não pode apreciar sua verdadeira luz."</em></p>
</blockquote>

<p>Quando você desce conscientemente ao seu próprio "inferno" - suas feridas, medos, raiva, desejos "proibidos" - algo extraordinário acontece:</p>

<p>Você descobre que <strong>não há nada lá que possa destruí-lo</strong>. Na verdade, encontra uma fonte inesgotável de poder e autenticidade que estava oculta sob camadas de repressão e negação.</p>

<p>Esta descida não é sobre se tornar "sombrio" ou "malévolo". É sobre se tornar <em>completo</em>.</p>`
    },
    {
      title: "Capítulo IV – A Alquimia da Autodivinização",
      content: `<div style="text-align: center; margin: 2rem 0;">
<h1><strong>CAPÍTULO IV</strong></h1>
<h2>A Alquimia da Autodivinização</h2>
</div>

<p>A verdadeira alquimia nunca foi sobre transformar metal em ouro. Era sobre transformar a <strong>consciência comum em consciência divina</strong>. Era sobre reconhecer que você não é separado do divino - você <em>é</em> o divino experienciando-se através de uma forma humana.</p>

<p>Este processo de autodivinização acontece em estágios:</p>

<ul>
<li><strong>Dissolução</strong> - liberando identidades limitantes</li>
<li><strong>Separação</strong> - distinguindo entre ego e essência</li>
<li><strong>Conjunção</strong> - integrando opostos internos</li>
<li><strong>Fermentação</strong> - permitindo nova vida emergir</li>
<li><strong>Destilação</strong> - purificando a consciência</li>
<li><strong>Coagulação</strong> - manifestando a nova realidade</li>
</ul>

<p>Ao contrário da "salvação" prometida pelas religiões, que sempre vem de fora e no futuro, a autodivinização acontece <em>aqui e agora</em>, através de seu próprio trabalho consciente.</p>

<blockquote>
<p><em>"Você não precisa se tornar um deus. Você precisa parar de fingir que não é um."</em></p>
</blockquote>

<p>Esta não é megalomania ou arrogância espiritual. É o <strong>reconhecimento simples</strong> de sua verdadeira natureza. Quando uma onda reconhece que é oceano, ela não se torna arrogante - ela simplesmente <em>para de ter medo de se dissolver</em>.</p>

<p>A autodivinização é o ato mais humilde possível: é admitir que você sempre foi aquilo que buscava, e que toda a busca era uma fuga de sua própria magnificência.</p>`
    },
    {
      title: "Capítulo V – Vivendo Como Deus Encarnado",
      content: `<div style="text-align: center; margin: 2rem 0;">
<h1><strong>CAPÍTULO V</strong></h1>
<h2>Vivendo Como Deus Encarnado</h2>
</div>

<p>Quando você finalmente aceita sua própria divindade, uma pergunta prática emerge: <strong>como viver essa realização no mundo cotidiano?</strong></p>

<p>Viver como deus encarnado não significa agir com arrogância ou superioridade. Significa:</p>

<ul>
<li><strong>Responsabilidade total</strong> por sua experiência</li>
<li><strong>Criatividade consciente</strong> em todas as áreas da vida</li>
<li><strong>Compaixão</strong> baseada na compreensão da unidade</li>
<li><strong>Coragem</strong> para expressar sua verdade única</li>
</ul>

<p>Você para de ser vítima das circunstâncias e se torna <em>co-criador consciente</em> da realidade. Você compreende que cada pensamento, emoção e ação é um ato de criação divina.</p>

<blockquote>
<p><em>"Um deus não reclama da realidade - a transforma."</em></p>
</blockquote>

<p>Isso também significa aceitar que outros seres são igualmente divinos, mesmo que não tenham despertado para essa verdade. Você os vê através dos olhos da <strong>compaixão divina</strong>, não do julgamento humano.</p>

<p>Viver como deus encarnado é também aceitar o <em>paradoxo</em>: você é simultaneamente humano e divino, individual e universal, criatura e criador.</p>

<p>Este não é um estado de chegada, mas um <strong>modo de ser</strong> que se aprofunda e refina com cada respiração consciente.</p>`
    },
    {
      title: "Epílogo – Acendendo Outras Chamas",
      content: `<div style="text-align: center; margin: 2rem 0;">
<h1><strong>EPÍLOGO</strong></h1>
<h2>Acendendo Outras Chamas</h2>
</div>

<p>Se você chegou até aqui e sentiu o <strong>reconhecimento</strong> mais do que apenas compreensão intelectual, então sua própria chama interior já começou a queimar mais intensamente.</p>

<p>Esta luz que você encontrou não vem do céu, não vem de livros, não vem de professores. Ela sempre esteve <em>aqui</em>, aguardando seu reconhecimento.</p>

<p>Agora você tem uma escolha: manter essa luz escondida ou permitir que ela <strong>irradie</strong> através de sua vida, acendendo outras chamas pelo simples fato de existir autenticamente.</p>

<p>Não se trata de pregar ou converter. Quando você vive a partir de sua própria divindade, <em>automaticamente</em> dá permissão para outros fazerem o mesmo.</p>

<ul>
<li>Sua <strong>coragem</strong> inspira coragem</li>
<li>Sua <strong>autenticidade</strong> revela a falsidade</li>
<li>Sua <strong>liberdade</strong> expõe as prisões</li>
<li>Sua <strong>luz</strong> ilumina o caminho</li>
</ul>

<blockquote>
<p><em>"Uma vela não perde luz ao acender outra vela."</em></p>
</blockquote>

<p>O mundo precisa desesperadamente de pessoas que ousem <strong>viver como deuses encarnados</strong>. Não no sentido de dominação ou superioridade, mas no sentido de responsabilidade criativa total.</p>

<p>A luz que você encontrou nunca foi sua "propriedade" - ela é <em>expressão da fonte infinita</em> através de sua forma única.</p>

<p>Agora vá. Viva essa luz. Seja essa luz. <strong>Acenda o mundo</strong>.</p>

<p>A escuridão só existe onde a luz escolhe não brilhar.</p>

<p><strong>Escolha brilhar.</strong></p>`
    }
  ]
};

async function createFifthGrimoire() {
  console.log(`🔥 Criando "${grimoire.title}"...`);
  
  try {
    // Criar o grimório
    const { data: newGrimoire, error: grimoireError } = await supabase
      .from('grimoires')
      .insert({
        title: grimoire.title,
        description: grimoire.description,
        section_id: 1, // Atrium Ignis
        unlock_order: grimoire.unlock_order,
        is_published: true,
        price: 0,
        is_paid: false
      })
      .select()
      .single();
      
    if (grimoireError) {
      console.error(`❌ Erro ao criar grimório "${grimoire.title}":`, grimoireError);
      return;
    }
    
    console.log(`  ✓ Grimório criado com ID ${newGrimoire.id}`);
    
    // Criar os capítulos
    for (let i = 0; i < grimoire.chapters.length; i++) {
      const chapter = grimoire.chapters[i];
      
      const { error: chapterError } = await supabase
        .from('chapters')
        .insert({
          grimoire_id: newGrimoire.id,
          title: chapter.title,
          content: chapter.content,
          chapter_number: i + 1
        });
        
      if (chapterError) {
        console.error(`❌ Erro ao criar capítulo "${chapter.title}":`, chapterError);
      } else {
        console.log(`    ✓ Capítulo ${i + 1}: ${chapter.title}`);
      }
    }
    
    console.log(`  ✅ Grimório "${grimoire.title}" criado com ${grimoire.chapters.length} capítulos\n`);
    
  } catch (error) {
    console.error(`💥 Erro geral ao criar "${grimoire.title}":`, error);
  }
  
  console.log('🎉 Quinto grimório criado seguindo o padrão de prólogo e epílogo!');
  console.log('📚 Coleção "Atrium Ignis" agora possui 5 grimórios completos.');
}

createFifthGrimoire().catch(console.error);